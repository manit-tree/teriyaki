let a = (t) => {
  if (a.is_function(t))
    document.readyState === "complete" ? cb() : document.addEventListener("DOMContentLoaded", () => {
      cb();
    });
  else {
    if (a.is_string(t))
      return a.is_html(t) ? $(a.el(t)) : new g(document.querySelector(t));
    if (a.is_html_element(t))
      return new g(t);
    if (a.is_document(t))
      return new TeriyakitDocument(t);
    if (a.is_window(t))
      return new TeriyakiiWindow(t);
  }
};
a.all = (t) => new C(document.querySelectorAll(t));
a.query = (t) => document.querySelector(t);
a.queryAll = (t) => document.querySelectorAll(t);
a.is_function = (t) => typeof t == "function";
a.is_string = (t) => typeof t == "string";
a.is_html = (t) => typeof t == "string" && t.includes("<") && t.includes(">");
a.is_html_element = (t) => HTMLElement.prototype.isPrototypeOf(t);
a.is_teriyaki = (t) => t instanceof E;
a.is_document = (t) => t instanceof Document;
a.is_window = (t) => t === window;
a.el = (t) => {
  let n = document.createElement("div");
  return n.innerHTML = t.trim(), n.childElementCount == 1 ? n.firstChild : n.childElementCount > 1 ? new g(n.childNodes) : null;
};
a.wrap = (t, n) => {
  t.parentNode.insertBefore(n, t), n.appendChild(t);
};
a.default = (t, n) => t == null || t === "" ? n : t;
a.extend = (t, n) => typeof t == "object" && typeof n == "object" ? Object.assign(t, n) : null;
a.create_event = (t, n = {}, e = !0) => new CustomEvent(t, {
  bubbles: e,
  detail: n
});
a.broadcast_receiver = (t, n = null) => {
  const e = new BroadcastChannel(t);
  typeof n == "function" && (e.onmessage = (r) => {
    n(r.data);
  });
};
a.broadcast = (t, n) => {
  new BroadcastChannel(t).postMessage(n);
};
a.pushState = (t = null, n) => {
  window.history.replaceState(t, null, ""), window.history.pushState(null, null, n);
};
a.get_html = (t, n = !0) => new Promise((e, r) => {
  let s = {};
  n || (s = { cache: "no-cache" }), fetch(t, s).then((i) => i.text()).then((i) => e(i)).catch((i) => r(i));
});
a.get_text = (t, n = !0) => new Promise((e, r) => {
  let s = {};
  n || (s = { cache: "no-cache" }), fetch(t, s).then((i) => i.text()).then((i) => e(i)).catch((i) => r(i));
});
a.get_json = (t, n = !0) => new Promise((e, r) => {
  let s = {};
  n || (s = { cache: "no-cache" }), fetch(t, s).then((i) => i.json()).then((i) => e(i)).catch((i) => r(i));
});
a.post = (t, n = null) => new Promise((e, r) => {
  fetch(t, {
    method: "POST",
    body: n
  }).then((i) => i.json()).then((i) => e(i)).catch((i) => r(i));
});
a.post_json = (t, n, e = {}) => new Promise((r, s) => {
  let i = {
    "Content-Type": "application/json; charset=UTF-8"
  };
  Object.keys(e).forEach((l) => {
    i[l] = e[l];
  });
  const o = {
    method: "POST",
    headers: i,
    body: JSON.stringify(n)
  };
  fetch(t, o).then((l) => l.json()).then((l) => r(l)).catch((l) => s(l));
});
a.ready = (t) => {
  if (document.readyState === "complete")
    t();
  else {
    let n = () => {
      setTimeout(() => {
        t();
      }, 100), document.removeEventListener("DOMContentLoaded", n);
    };
    document.addEventListener("DOMContentLoaded", n);
  }
};
a.UUID = () => window.crypto.randomUUID();
a.log = (t) => {
  console.log(t);
};
a.random = (t, n) => Math.floor(Math.random() * (n - t + 1) + t);
a.base64_encode = (t) => btoa(t);
a.base64_decode = (t) => atob(t);
a.md5 = (t) => {
  var n = b(A(L(m(t), 8 * t.length)));
  return n.toLowerCase();
};
function b(t) {
  for (var n, e = "0123456789ABCDEF", r = "", s = 0; s < t.length; s++) n = t.charCodeAt(s), r += e.charAt(n >>> 4 & 15) + e.charAt(15 & n);
  return r;
}
function m(t) {
  for (var n = Array(t.length >> 2), e = 0; e < n.length; e++) n[e] = 0;
  for (e = 0; e < 8 * t.length; e += 8) n[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
  return n;
}
function A(t) {
  for (var n = "", e = 0; e < 32 * t.length; e += 8) n += String.fromCharCode(t[e >> 5] >>> e % 32 & 255);
  return n;
}
function L(t, n) {
  t[n >> 5] |= 128 << n % 32, t[14 + (n + 64 >>> 9 << 4)] = n;
  for (var e = 1732584193, r = -271733879, s = -1732584194, i = 271733878, o = 0; o < t.length; o += 16) {
    var l = e, d = r, w = s, _ = i;
    r = f(r = f(r = f(r = f(r = u(r = u(r = u(r = u(r = c(r = c(r = c(r = c(r = h(r = h(r = h(r = h(r, s = h(s, i = h(i, e = h(e, r, s, i, t[o + 0], 7, -680876936), r, s, t[o + 1], 12, -389564586), e, r, t[o + 2], 17, 606105819), i, e, t[o + 3], 22, -1044525330), s = h(s, i = h(i, e = h(e, r, s, i, t[o + 4], 7, -176418897), r, s, t[o + 5], 12, 1200080426), e, r, t[o + 6], 17, -1473231341), i, e, t[o + 7], 22, -45705983), s = h(s, i = h(i, e = h(e, r, s, i, t[o + 8], 7, 1770035416), r, s, t[o + 9], 12, -1958414417), e, r, t[o + 10], 17, -42063), i, e, t[o + 11], 22, -1990404162), s = h(s, i = h(i, e = h(e, r, s, i, t[o + 12], 7, 1804603682), r, s, t[o + 13], 12, -40341101), e, r, t[o + 14], 17, -1502002290), i, e, t[o + 15], 22, 1236535329), s = c(s, i = c(i, e = c(e, r, s, i, t[o + 1], 5, -165796510), r, s, t[o + 6], 9, -1069501632), e, r, t[o + 11], 14, 643717713), i, e, t[o + 0], 20, -373897302), s = c(s, i = c(i, e = c(e, r, s, i, t[o + 5], 5, -701558691), r, s, t[o + 10], 9, 38016083), e, r, t[o + 15], 14, -660478335), i, e, t[o + 4], 20, -405537848), s = c(s, i = c(i, e = c(e, r, s, i, t[o + 9], 5, 568446438), r, s, t[o + 14], 9, -1019803690), e, r, t[o + 3], 14, -187363961), i, e, t[o + 8], 20, 1163531501), s = c(s, i = c(i, e = c(e, r, s, i, t[o + 13], 5, -1444681467), r, s, t[o + 2], 9, -51403784), e, r, t[o + 7], 14, 1735328473), i, e, t[o + 12], 20, -1926607734), s = u(s, i = u(i, e = u(e, r, s, i, t[o + 5], 4, -378558), r, s, t[o + 8], 11, -2022574463), e, r, t[o + 11], 16, 1839030562), i, e, t[o + 14], 23, -35309556), s = u(s, i = u(i, e = u(e, r, s, i, t[o + 1], 4, -1530992060), r, s, t[o + 4], 11, 1272893353), e, r, t[o + 7], 16, -155497632), i, e, t[o + 10], 23, -1094730640), s = u(s, i = u(i, e = u(e, r, s, i, t[o + 13], 4, 681279174), r, s, t[o + 0], 11, -358537222), e, r, t[o + 3], 16, -722521979), i, e, t[o + 6], 23, 76029189), s = u(s, i = u(i, e = u(e, r, s, i, t[o + 9], 4, -640364487), r, s, t[o + 12], 11, -421815835), e, r, t[o + 15], 16, 530742520), i, e, t[o + 2], 23, -995338651), s = f(s, i = f(i, e = f(e, r, s, i, t[o + 0], 6, -198630844), r, s, t[o + 7], 10, 1126891415), e, r, t[o + 14], 15, -1416354905), i, e, t[o + 5], 21, -57434055), s = f(s, i = f(i, e = f(e, r, s, i, t[o + 12], 6, 1700485571), r, s, t[o + 3], 10, -1894986606), e, r, t[o + 10], 15, -1051523), i, e, t[o + 1], 21, -2054922799), s = f(s, i = f(i, e = f(e, r, s, i, t[o + 8], 6, 1873313359), r, s, t[o + 15], 10, -30611744), e, r, t[o + 6], 15, -1560198380), i, e, t[o + 13], 21, 1309151649), s = f(s, i = f(i, e = f(e, r, s, i, t[o + 4], 6, -145523070), r, s, t[o + 11], 10, -1120210379), e, r, t[o + 2], 15, 718787259), i, e, t[o + 9], 21, -343485551), e = y(e, l), r = y(r, d), s = y(s, w), i = y(i, _);
  }
  return Array(e, r, s, i);
}
function p(t, n, e, r, s, i) {
  return y(T(y(y(n, t), y(r, i)), s), e);
}
function h(t, n, e, r, s, i, o) {
  return p(n & e | ~n & r, t, n, s, i, o);
}
function c(t, n, e, r, s, i, o) {
  return p(n & r | e & ~r, t, n, s, i, o);
}
function u(t, n, e, r, s, i, o) {
  return p(n ^ e ^ r, t, n, s, i, o);
}
function f(t, n, e, r, s, i, o) {
  return p(e ^ (n | ~r), t, n, s, i, o);
}
function y(t, n) {
  var e = (65535 & t) + (65535 & n);
  return (t >> 16) + (n >> 16) + (e >> 16) << 16 | 65535 & e;
}
function T(t, n) {
  return t << n | t >>> 32 - n;
}
a.sha256 = (t) => new Promise(async (n) => {
  const e = new TextEncoder("utf-8").encode(t), r = await crypto.subtle.digest("SHA-256", e), s = new Uint32Array(r), i = Object.entries(s).map((o) => o[1].toString(16));
  n(i.join(""));
});
$.teriyaki.import_script = async (t, n = { exports: {} }) => (Function("module", "exports", await (await fetch(t)).text()).call(n, n, n.exports), n);
class E {
  constructor(n) {
    this.el = n;
  }
  trigger(n) {
    return this.el.dispatchEvent(n), this;
  }
  on(n, e) {
    return a.is_function(e) && this.el && this.el.addEventListener(n, e), this;
  }
  one(n, e) {
    return a.is_function(e) && this.el && this.el.addEventListener(n, e, { once: !0 }), this;
  }
  off(n, e) {
    return a.is_function(e) && this.el && this.el.removeEventListener(n, e), this;
  }
}
class g extends E {
  addClass(n) {
    return this.el.classList.add(n), this;
  }
  removeClass(n) {
    return this.el.classList.remove(n), this;
  }
  text(n) {
    return typeof n == "string" ? (this.el.innerText = n, this) : this.el.innerText;
  }
  html(n) {
    return typeof n == "string" ? (this.el.innerHTML = n, this) : this.el.innerHTML;
  }
  html_unsafe(n) {
    return typeof n === "string" ? (this.el.innerHTML = n, Array.from(this.el.querySelectorAll("script")).forEach((r) => {
      const s = document.createElement("script");
      Array.from(r.attributes).forEach((o) => {
        s.setAttribute(o.name, o.value);
      });
      const i = document.createTextNode(r.innerHTML);
      s.appendChild(i), r.parentNode.replaceChild(s, r);
    }), this) : this.el.innerHTML;
  }
  wrap(n) {
    if (a.is_teriyaki(n))
      a.wrap(this.el, n.el);
    else if (a.is_html_element(n))
      a.wrap(this.el, n);
    else if (a.is_html(n)) {
      let e = a.el(n);
      a.wrap(this.el, e);
    }
    return this;
  }
  color(n) {
    return this.el.style.setProperty("color", n), this;
  }
  show() {
    return this.el.removeAttribute("hidden"), this;
  }
  hide() {
    return this.el.setAttribute("hidden", ""), this;
  }
  attr(n, e) {
    return n && typeof n == "string" ? e && typeof e == "string" ? (this.el.setAttribute(n, e), this) : this.el.getAttribute(n) : null;
  }
  data(n, e) {
    return n && typeof n == "string" ? e && typeof e == "string" ? (this.el.setAttribute("data-" + n, e), this) : this.el.getAttribute("data-" + n) : null;
  }
  css(n) {
    return typeof n == "object" && Object.keys(n).forEach((e) => {
      this.el.style.setProperty(e, n[e]);
    }), this;
  }
  width() {
    return this.el.getBoundingClientRect().width;
  }
  height() {
    return this.el.getBoundingClientRect().height;
  }
  fadeIn(n = 600, e = null) {
    let r = [
      { opacity: 0 },
      { opacity: 1 }
    ], s = {
      duration: n,
      iterations: 1,
      fill: "both"
    }, i = this.el.animate(r, s);
    return typeof e == "function" && i.addEventListener("finish", (o) => {
      e();
    }), this;
  }
  fadeOut(n = 600, e = null) {
    let r = [
      { opacity: 1 },
      { opacity: 0 }
    ], s = {
      duration: n,
      iterations: 1,
      fill: "both"
    }, i = this.el.animate(r, s);
    return typeof e == "function" && i.addEventListener("finish", (o) => {
      e();
    }), this;
  }
}
class C {
  constructor(n) {
    this.elements = Array.from(n);
  }
  addClass(n) {
    this.elements.forEach((e) => {
      e.classList.add(n);
    });
  }
  removeClass(n) {
    this.elements.forEach((e) => {
      e.classList.remove(n);
    });
  }
  text(n) {
    typeof n == "string" && this.elements.forEach((e) => {
      e.innerText = n;
    });
  }
  html(n) {
    typeof n == "string" && this.elements.forEach((e) => {
      e.innerHTML = n;
    });
  }
  html_unsafe(n) {
    if (typeof n === "string")
      return this.elements.forEach((r) => {
        r.innerHTML = n, Array.from(r.querySelectorAll("script")).forEach((s) => {
          const i = document.createElement("script");
          Array.from(s.attributes).forEach((l) => {
            i.setAttribute(l.name, l.value);
          });
          const o = document.createTextNode(s.innerHTML);
          i.appendChild(o), s.parentNode.replaceChild(i, s);
        });
      }), this;
  }
  wrap(n) {
    if (a.is_teriyaki(n))
      this.elements.forEach((e) => {
        a.wrap(e, n.el);
      });
    else if (a.is_html_element(n))
      this.elements.forEach((e) => {
        a.wrap(e, n);
      });
    else if (a.is_html(n)) {
      let e = a.el(n);
      this.elements.forEach((r) => {
        a.wrap(r, e);
      });
    }
    return this;
  }
  color(n) {
    this.elements.forEach((e) => {
      e.style.setProperty("color", n);
    });
  }
  show() {
    this.elements.forEach((n) => {
      n.removeAttribute("hidden");
    });
  }
  hide() {
    this.elements.forEach((n) => {
      n.setAttribute("hidden", "");
    });
  }
  attr(n, e) {
    n && typeof n == "string" && e && typeof e == "string" && this.elements.forEach((r) => {
      r.setAttribute(n, e);
    });
  }
  data(n, e) {
    return n && typeof n == "string" && e && typeof e == "string" && this.elements.forEach((r) => {
      r.setAttribute("data-" + n, e);
    }), null;
  }
  css(n) {
    typeof n == "object" && Object.keys(n).forEach((e) => {
      this.elements.forEach((r) => {
        r.style.setProperty(e, n[e]);
      });
    });
  }
  fadeIn(n = 600, e = null) {
    let r = [
      { opacity: 0 },
      { opacity: 1 }
    ], s = {
      duration: n,
      iterations: 1,
      fill: "both"
    }, i = 0;
    return this.elements.forEach((o) => {
      let l = o.animate(r, s);
      i++, typeof e == "function" && l.addEventListener("finish", (d) => {
        i = i - 1, i == 0 && e();
      });
    }), this;
  }
  fadeOut(n = 600, e = null) {
    let r = [
      { opacity: 1 },
      { opacity: 0 }
    ], s = {
      duration: n,
      iterations: 1,
      fill: "both"
    }, i = 0;
    return this.elements.forEach((o) => {
      let l = o.animate(r, s);
      i++, typeof e == "function" && l.addEventListener("finish", (d) => {
        i = i - 1, i == 0 && e();
      });
    }), this;
  }
}
export {
  a as default
};
